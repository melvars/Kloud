@import io.javalin.*
@args (String username, String token, String message, Context ctx)

@layout.template("Register", ctx, RockerContent.NONE, RockerContent.NONE) -> {
<div class="flex">
    <h1>Register</h1>

    <form action="/user/register" method="post">
        <h3>Please set a password for user "@username"</h3>
        <div>
            <input hidden name="username" type="text" value="@username"/>
            <input hidden name="token" type="text" value="@token"/>
        </div>
        <div>
            <label for="password">Password:</label>
            <input autocomplete="off" autofocus id="password" minlength="8" name="password" required type="password"/>
        </div>
        <div>
            <label for="verifyPassword">Verify password:</label>
            <input autocomplete="off" id="verifyPassword" minlength="8" name="verifyPassword" required type="password"/>
        </div>

        <div>
            @if (message.length() > 0) {
            <small>@message</small>
            }
        </div>

        <div>
            <button type="submit">Register</button>
        </div>
    </form>
</div>
}
