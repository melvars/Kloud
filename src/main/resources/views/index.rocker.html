@import space.anity.DatabaseController
@import space.anity.UserHandler
@args (String username)

@layout.template("Index", RockerContent.NONE, RockerContent.NONE) -> {
<div class="flex">
    <h1>Welcome to Kloud<span class="username">@(username == "" ? "" : " " + username)</span>!</h1>

    <div>
        @if(username.length() > 0) {
        <a class="button" href="/user/logout">Logout</a>
        @if((new UserHandler()).isAdmin(username)) {
        <a class="button" href="/admin">Admin</a>
        }
        } else if (!(new DatabaseController()).isSetup()) {
        <a class="button" href="/setup">Setup</a>
        } else {
        <a class="button" href="/user/login">Login</a>
        }

        <a class="button" href="/files/">Files</a>
    </div>
</div>
}
